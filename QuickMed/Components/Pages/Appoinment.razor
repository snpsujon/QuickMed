@page "/appoinment"
@using QuickMed.BaseComponent
@inherits BaseAppoinment


<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header bg-info ">
                <h4 class="card-title text-light"> <i class="dripicons-information"></i> &nbsp;&nbsp;Patient Information</h4>
            </div><!--end card-header-->
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="mb-3 row">

                            <label for="example-text-input" class="col-sm-1 form-label align-self-center mb-lg-0 text-end">Name</label>
                            <div class="col-sm-3">
                                <input class="form-control form-control-sm" type="text" @bind-value="model.Name">
                            </div>
                            <label for="example-text-input" class="col-sm-1 form-label align-self-center mb-lg-0 text-end">Age</label>
                            <div class="col-sm-1">
                                <input class="form-control form-control-sm" type="number" @bind-value="model.Age">
                            </div>
                            <label for="example-text-input" class="col-sm-1 form-label align-self-center mb-lg-0 text-end">Sex</label>
                            <div class="col-sm-1">
                                <select class="form-select form-select-sm" aria-label="Default select example" @bind="model.Gender">
                                    <option selected>Select</option>
                                    <option value="1">M</option>
                                    <option value="2">F</option>
                                    <option value="3">O</option>
                                </select>
                            </div>
                            <label for="example-text-input" class="col-sm-1 form-label align-self-center mb-lg-0 text-end">Address</label>
                            <div class="col-sm-3">
                                <input class="form-control form-select-sm" type="text" @bind-value="model.Address">
                            </div>

                        </div>

                        <div class="mb-3 row">

                            <label for="example-text-input" class="col-sm-1 form-label align-self-center mb-lg-0 text-end">Mobile</label>
                            <div class="col-sm-3">
                                <input class="form-control form-select-sm" type="text" @bind-value="model.Mobile">
                            </div>                           
                            <label for="example-text-input" class="col-sm-1 form-label align-self-center mb-lg-0 text-end">Wt</label>
                            <div class="col-sm-1">
                                <input class="form-control form-select-sm" type="number" @bind-value="model.Weight">
                            </div>                           

                        </div>
                        <span class="float-right">
                            <button id="but_add" class="btn btn-success btn-sm float-end" @onclick="OnSaveBtnClick">Save</button>
                        </span>
                    </div>
                </div>
            </div><!--end card-body-->
        </div><!--end card-->
    </div><!--end col-->
</div>
@*<h3 class="text-primary"> <i class="fas fa-prescription"></i> Patient List</h3>*@
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header bg-info ">
                <h4 class="card-title text-light"> <i class="dripicons-view-list"></i> &nbsp;&nbsp;Patient List</h4>
            </div><!--end card-header-->
            <div class="card-body">


                <table id="datatable-patientList" class="table table-striped table-bordered dt-responsive nowrap" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                    <thead>
                        <tr>
                            <th class="border-top-0">#</th>
                            <th class="border-top-0">Name</th>
                            <th class="border-top-0">Date</th>
                            <th class="border-top-0">Reg. No</th>
                            <th class="border-top-0">Weight</th>
                            <th class="border-top-0">Age</th>
                            <th class="border-top-0">Sex</th>
                            <th class="border-top-0">Mobile</th>
                            <th class="border-top-0">Address</th>
                            <th class="border-top-0 text-end">Action</th>
                        </tr>
                    </thead>

                    @*<tbody>

                        @if (models != null && models.Any())
                        {
                        @foreach (var item in models.Select((value, index) => new { value, index }))
                        {
                        <tr>
                            <td>@(item.index + 1)</td> 
                            <td>@item.value.Name</td>
                            <td>@item.value.AdmissionDate.ToShortDateString()</td>
                            <td>@item.value.Code</td>
                            <td>@item.value.Weight</td>
                            <td>@item.value.Age</td>
                            <td>@item.value.Gender</td>
                            <td>@item.value.Mobile</td>
                            <td>@item.value.Address</td>
                            <td class="text-end">
                                <span class="text-primary mx-1 cursor-pointer" @onclick="() => OnEditClick(item.value)"><i class="dripicons-plus"></i></span>
                                <span class="text-danger mx-1 cursor-pointer" @onclick="() => OnDeleteClick(item.value.Id)"><i class="dripicons-trash"></i></span>
                            </td>


                        </tr>
                        }


                        }


                    </tbody>*@
                </table>

            </div>
        </div>
    </div> <!-- end col -->
</div> <!-- end row -->
